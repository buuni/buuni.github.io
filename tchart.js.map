{"version":3,"file":"tchart.js","sources":["../src/helpers.js","../src/primitives/element.js","../src/controls/control.js","../src/core/layout.js","../src/thems/light.js","../src/thems/night.js","../src/utils/reactive.js","../src/utils/watch.js","../src/core/interaction/animate.js","../src/core/types/line.js","../src/controls/plotArea.js","../src/controls/yaxis.js","../src/controls/xaxis.js","../src/controls/plot.js","../src/core/interaction/resize.js","../src/core/interaction/dragging.js","../src/controls/navigator/drawer.js","../src/controls/navigator/index.js","../src/controls/tooltip/wrapper.js","../src/controls/tooltip/index.js","../src/main.js"],"sourcesContent":["export function forEach(obj, cb) {\n  var keys = Object.keys(obj);\n\n  keys.forEach((key, i) => cb(obj[key], key, i));\n}\n\nexport function createElement(tag) {\n  return document.createElementNS('http://www.w3.org/2000/svg', tag);\n}\n\nexport function createTextNode(text) {\n  return document.createTextNode(text);\n}\n\nexport function toDashCase(str) {\n  return str.replace( /([a-z])([A-Z])/g, '$1-$2' ).toLowerCase();\n}\n\n\nexport function formatBigNumber(number) {\n  if(number > 10000) {\n    return (number / 1000).toFixed(0) + 'K';\n  }\n\n  return number;\n}\n\nexport function makeId(length) {\n  var text = \"\";\n  var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n  for (var i = 0; i < length; i++)\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n  return text;\n}","import { createElement, forEach, toDashCase } from \"../helpers\";\n\nexport default class Element {\n  constructor(tag, opts = {}) {\n    this._el = createElement(tag);\n\n    forEach(opts, (v, prop) => {\n      if(prop === 'style') {\n        this.style(v);\n        return;\n      }\n      this.attr(prop, v);\n    });\n  }\n\n  get node() {\n    return this._el;\n  }\n\n  attr() {\n    if(arguments.length > 1) {\n      this._el.setAttribute(toDashCase(arguments[0]), arguments[1]);\n    } else {\n      if(typeof arguments[0] === 'object') {\n        forEach(arguments[0], (value, property) => {\n          this.attr(property, value);\n        });\n        return;\n      }\n\n      return this._el.getAttribute(toDashCase(arguments[0]));\n    }\n  }\n\n  style() {\n    if(arguments.length > 1) {\n      this._el.style[toDashCase(arguments[0])] = arguments[1];\n    } else {\n      if(typeof arguments[0] === 'object') {\n        forEach(arguments[0], (value, property) => {\n          this.style(property, value);\n        });\n        return;\n      }\n\n      return this._el.style[toDashCase(arguments[0])];\n    }\n  }\n\n  addEventListener(name, handler) {\n    this._el.addEventListener(name, handler);\n  }\n\n  mount(to) {\n    if(to instanceof Element) {\n      to._el.appendChild(this._el);\n    } else {\n      to.appendChild(this._el);\n    }\n  }\n}","import Layout from \"../core/layout\";\n\nexport default class Control {\n  constructor(layoutTag) {\n    this._layout = new Layout(layoutTag);\n\n    this._layout.push(this);\n  }\n\n  get layout() {\n    return this._layout;\n  }\n\n  set layout(val) {\n    //\n  }\n}","import Element from \"../primitives/element\";\nimport Control from \"../controls/control\";\n\nexport default class Layout {\n  constructor(tag) {\n    this._container = tag ? new Element(tag) : null;\n    this._collection = [];\n    this._mounted = false;\n\n    this._position = {};\n\n    this._viewbox = {\n      width: 0,\n      height: 0,\n    };\n  }\n\n  viewbox(viewbox) {\n    this._viewbox = viewbox;\n  }\n\n  position(pos) {\n    this._position = pos;\n  }\n\n  push(...args) {\n    this._collection.push(...args);\n  }\n\n  render(theme) {\n    this._collection.forEach(e => {\n      if(e instanceof Layout || e instanceof Control) {\n        e.render(theme);\n      }\n    });\n  }\n\n  mount(to) {\n    if(this._mounted) {\n      return;\n    }\n\n    if(to instanceof Layout || to instanceof Element || to instanceof Control) {\n      if(this._container) {\n        this._collection.forEach(e => {\n          if(e instanceof Element || e instanceof Layout || e instanceof Control) {\n            e.mount(this._container);\n          } else {\n            this._container.appendChild(e);\n          }\n        });\n        this._container.mount(to);\n      } else {\n        this._collection.forEach(e => {\n          if(e instanceof Element || e instanceof Layout || e instanceof Control) {\n            e.mount(to);\n          } else {\n            to.appendChild(e);\n          }\n        });\n      }\n    } else {\n      if(this._container) {\n        this._collection.forEach(e => {\n          if(e instanceof Element || e instanceof Layout || e instanceof Control) {\n            e.mount(this._container);\n          } else {\n            this._container.appendChild(e);\n          }\n        });\n        to.appendChild(this._container.node);\n      } else {\n        this._collection.forEach(e => {\n          if(e instanceof Element || e instanceof Layout || e instanceof Control) {\n            e.mount(to);\n          } else {\n            to.appendChild(e);\n          }\n        });\n      }\n    }\n\n    if(this._container) {\n      this._container.attr('transform', `translate(${this._position.left || 0} ${this._position.top || 0})`)\n    }\n\n    this._mounted = true;\n  }\n}","export default {\n  Root: {\n    background: 'white',\n  },\n  Navigator: {\n    height: 50,\n    background: 'white',\n    Drawer: {\n      handlerWidth: 10,\n      border: 4,\n      maskColor: '#F6FAFC',\n      borderColor: 'rgba(20,123,123,0.2)',\n    },\n    Line: {\n      linejoin: 'round',\n      size: 1,\n    }\n  },\n  Tooltip: {\n    Mark: {\n      background: 'white',\n    },\n    labelColor: '#222222',\n    background: 'white',\n    borderColor: '#D8D8D8',\n    wayLineColor: '#DFE6EB',\n  },\n  Plot: {\n    Line: {\n      linejoin: 'round',\n      size: 2,\n    },\n    yAxis: {\n      lineColor: '#F2F4F5',\n      textColor: '#96A2AA',\n    },\n    xAxis: {\n      lineColor: '##F2F4F5',\n      textColor: '#96A2AA',\n    }\n  }\n};","export default {\n  Root: {\n    background: '#242F3E',\n  },\n  Navigator: {\n    height: 50,\n    background: '#242F3E',\n    Drawer: {\n      handlerWidth: 10,\n      border: 4,\n      maskColor: '#1F2A38',\n      borderColor: 'rgba(123,123,123,0.5)',\n    },\n    Line: {\n      linejoin: 'round',\n      size: 1,\n    }\n  },\n  Tooltip: {\n    Mark: {\n      background: '#242F3E',\n    },\n    labelColor: 'white',\n    background: '#253241',\n    borderColor: '#212D3A',\n    wayLineColor: '#3B4A5A'\n  },\n  Plot: {\n    Line: {\n      linejoin: 'round',\n      size: 2,\n    },\n    yAxis: {\n      lineColor: '#293544',\n      textColor: '#96A2AA',\n    },\n    xAxis: {\n      lineColor: '#293544',\n      textColor: '#96A2AA',\n    }\n  }\n};","import { forEach } from \"../helpers\";\n\n\nlet obId = 0;\n\nclass Ob {\n  constructor(target) {\n    this._target = target;\n    this._rel = [];\n    this._watchers = [];\n    this._id = ++obId;\n  }\n\n  addRelation(ob) {\n    this._rel.push(ob);\n    // console.log(ob, this._id, this);\n    ob.watch(this.notify.bind(this));\n  }\n\n  watch(cb) {\n    this._watchers.push(cb);\n  }\n\n  notify(targetProp, newValue, oldValue) {\n    // console.log('notify in', this._target);\n    this._watchers.forEach(w => w(targetProp, newValue, oldValue));\n  }\n}\n\nexport function reactive(target) {\n  let res = null;\n  if(Array.isArray(target)) {\n    res = target.slice(0);\n  } else if(typeof target === 'object' && target instanceof Object) {\n    res = Object.assign({}, target);\n  }\n\n  makeReactive(res);\n\n  return res;\n}\n\nfunction makeReactive(target) {\n  if(Array.isArray(target)) {\n    makeArray(target);\n    return 1;\n  } else if(typeof target === 'object' && target instanceof Object) {\n    makeObject(target);\n    return 1;\n  }\n\n  return -1;\n}\n\nexport function def (obj, key, val, enumerable = false) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  });\n}\n\nconst arrayProto = Array.prototype;\nconst arrayMethods = Object.create(arrayProto);\n\nconst arrayMethodsToPatch = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n];\n\nexport function makeObject(obj) {\n  let ob = new Ob(obj);\n\n  forEach(obj, (value, key) => {\n\n    if(Array.isArray(value) || typeof value === 'object' && value instanceof Object) {\n      // def(value, '__ob', ob);\n      makeReactive(value);\n      // console.log(ob, value.__ob);\n      ob.addRelation(value.__ob);\n    }\n\n    Object.defineProperty(obj, key, {\n      enumerable: true,\n      configurable: true,\n      get: function getter () {\n        return value;\n      },\n      set: function setter (newVal) {\n        if (newVal === value) {\n          return;\n        }\n\n        if(value.__ob && value.__ob instanceof Ob) {\n          makeReactive(newVal);\n        }\n\n        let old = value;\n        value = newVal;\n        ob.notify(key, newVal, old);\n      }\n    });\n\n  });\n\n  def(obj, '__ob', ob);\n}\n\nexport function makeArray(array) {\n  // console.log(array);\n  let ob = new Ob(array);\n  array.forEach(item => {\n    let i = makeReactive(item);\n    if(i !== -1) {\n      ob.addRelation(item.__ob);\n    }\n  });\n\n  def(array, '__ob', ob);\n\n  arrayMethodsToPatch.forEach(function (method) {\n    const original = arrayProto[method];\n    def(arrayMethods, method, function mutator (...args) {\n      const result = original.apply(this, args);\n      const ob = this.__ob;\n      let inserted = null;\n      switch (method) {\n        case 'push':\n        case 'unshift':\n          inserted = args;\n          break;\n        case 'splice':\n          inserted = args.slice(2);\n          break;\n      }\n      // if (inserted) ob.observeArray(inserted)\n      // notify change\n      ob.notify(null, original);\n      return result;\n    });\n  });\n\n  arrayMethodsToPatch.forEach(method => {\n    def(array, method, arrayMethods[method]);\n  });\n\n  return array;\n}","import { forEach } from \"../helpers\";\n\nexport default function watch(reactiveValue, watchValues) {\n  if(typeof watchValues === 'object' && watchValues instanceof Object) {\n    forEach(watchValues, (val, key) => {\n      if(reactiveValue[key] !== 'undefined') {\n        let cb = null;\n        let deep = false;\n        if(val && {}.toString.call(val) === '[object Function]') {\n          cb = val;\n        } else {\n          cb = val.handler;\n          deep = val.deep || false;\n        }\n\n        if(deep) {\n          // todo create deep watcher;\n        }\n\n        // if(reactiveValue[key].__ob) {\n        //   reactiveValue[key].__ob.watch((prop, n, o) => cb(n, o));\n        // } else {\n        //   reactiveValue.__ob.watch((prop, newVal, oldVal) => {\n        //     if(prop === key) {\n        //       cb(newVal, oldVal);\n        //     }\n        //   })\n        // }\n\n        reactiveValue.__ob.watch((prop, newVal, oldVal) => {\n          if(prop === key) {\n            cb(newVal, oldVal);\n          }\n        })\n\n      }\n    });\n  }\n}","export function animate(options) {\n  const start = performance.now();\n\n  return requestAnimationFrame(function animate(time) {\n    let timeFraction = (time - start) / options.duration;\n    if (timeFraction > 1) timeFraction = 1;\n\n    const progress = options.timing(timeFraction);\n\n    options.draw(progress);\n\n    if (timeFraction < 1) {\n      requestAnimationFrame(animate);\n    }\n  });\n}","import Element from \"../../primitives/element\";\nimport { animate } from \"../interaction/animate\";\n\nexport default class Line {\n  constructor(theme, opts) {\n    this._theme = theme;\n    this._options = opts;\n\n    this._container = new Element('polyline', {\n      stroke: opts.color,\n      strokeWidth: theme.size,\n      fill: 'none',\n      strokeLinecap: theme.linejoin,\n      strokeLinejoin: theme.linejoin,\n      style: {\n        willChange: 'auto'\n      }\n    });\n  }\n\n  changeVisible(visible) {\n    this._visible = visible;\n\n    animate({\n      duration: 200,\n      timing: (timeFraction) => {\n        return timeFraction;\n      },\n      draw: (progress) => {\n\n        this._container.style('opacity', visible ? progress : 1 - progress);\n\n        // this._container.attr('transform', `translate(0 ${-top})`);\n\n        // if(progress >= 1) {\n        //   // this._container.style('visibility', 'hidden');\n        //   this._lines[id].changeVisible(isVisible);\n        // }\n      }\n    });\n  }\n\n  redraw(opts) {\n    let xPerOne = opts.viewbox.width / opts.points.length;\n\n    let xRatio = opts.viewbox.width / (opts.points.length - 1);\n    // let yRatio = this.$options.height / (Math.max(...all) - Math.min(...all));\n    let yRatio = opts.viewbox.height / opts.max;\n\n    this.xRatio = xRatio;\n    this.yRatio = yRatio;\n\n    let x = 0;\n\n    let polylinePoints = [];\n\n    for(let i = 0; i < opts.points.length; i++) {\n      let cp = opts.points[i];\n      polylinePoints.push(x * xRatio); // start x\n      polylinePoints.push((opts.max - cp) * yRatio); // start y\n\n      // if(i !== this.$points.length - 1) {\n        // polylinePoints.push(x * xRatio); // end x\n        // polylinePoints.push((opts.max - cp) * yRatio); // end y\n      // }\n\n      x++;\n    };\n\n    this._container.attr('points', polylinePoints.join(','));\n  }\n}","import watch from \"../utils/watch\";\nimport { forEach } from \"../helpers\";\nimport Control from \"./control\";\nimport Line from \"../core/types/line\";\nimport { animate } from \"../core/interaction/animate\";\n\nexport default class PlotArea extends Control {\n  constructor(state) {\n    super('g');\n    this._state = state;\n\n    this._maxValue = 0;\n    this._minValue = 0;\n\n    this._lines = {};\n\n    this._animateQueue = {};\n\n    Object.keys(state.data).forEach(id => {\n      watch(state.data[id], {\n        data: () => this._handlerUpdateData(id),\n        visible: (n, o) => this._changeVisible(id, n)\n      });\n\n      this._lines[id] = new Line(state.theme.Line, { color: state.data[id].color });\n    })\n\n    this._recalc();\n\n    this._timer = null;\n  }\n\n  _recalc() {\n    let data = [];\n\n    forEach(this._state.data, v => {\n      if(v.visible) {\n        data.push(...v.data);\n      }\n    })\n\n    this._prevMaxValue = this._maxValue;\n    this._prevMinValue = this._minValue;\n\n    this._maxValue = Math.max(...data);\n    this._minValue = Math.min(...data);\n\n    this._state.maxValue = this._maxValue;\n    this._state.minValue = this._minValue;\n\n    if(this._prevMaxValue === 0) {\n      this._prevMaxValue = this._maxValue * 5;\n    }\n\n  }\n\n  _handlerUpdateData(id) {\n    // console.log(id);\n    // this._recalc();\n\n    this._prevMaxValue = this._maxValue;\n    this._prevMinValue = this._minValue;\n\n    this.render();\n\n    if(this._timer) {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n\n    this._timer = setTimeout(() => {\n      this._recalc();\n      this.render();\n      this._timer = null;\n      clearTimeout(this._timer);\n    }, 100);\n\n    // animate({\n    //   duration: 500,\n    //   timing: (timeFraction) => {\n    //     return timeFraction;\n    //   },\n    //   draw: (progress) => {\n    //     if(this.progress) {\n    //       this._recalc()\n    //       this.render();\n    //     }\n    //     // this._container.attr('transform', `translate(0 ${-top})`);\n\n    //     // if(progress >= 1) {\n    //     //   // this._container.style('visibility', 'hidden');\n    //     //   this._lines[id].changeVisible(isVisible);\n    //     // }\n    //   }\n    // });\n\n    // let data = this._data.reduce((a, s) => a.concat(s), []);\n\n  }\n\n  _changeVisible(id, isVisible) {\n    this._recalc();\n    this.render();\n\n    this._lines[id].changeVisible(isVisible);\n  }\n\n  mount(to) {\n    forEach(this._lines, l => {\n      l._container.mount(to);\n    })\n  }\n\n  render() {\n    // wait sync array length\n    let firstLineLength = this._state.data[Object.keys(this._state.data)[0]].data.length;\n    let isSync = Object.keys(this._state.data).every(id => this._state.data[id].data.length === firstLineLength);\n\n    if(!isSync) {\n      return;\n    }\n\n    forEach(this._lines, (line, id) => {\n      // if(!this._state.data[id].visible) {\n        // return;\n      // }\n\n      if(this._animateQueue[id]) {\n        return;\n      }\n\n      this._animateQueue[id] = true;\n\n      animate({\n        duration: 200,\n        timing: (timeFraction) => {\n          return timeFraction;\n        },\n        draw: (progress) => {\n          let offset = this._prevMaxValue - this._maxValue;\n          // this._lines[id]._container.style('opacity', 1 - (progress < 0 ? 0 : progress));\n          // this.viewbox.height = saved - saved * progress;\n\n          line.redraw({\n            points: this._state.data[id].data,\n            max: this._prevMaxValue - offset * progress,\n            min: this._minValue,\n            viewbox: this._layout._viewbox,\n          });\n          // this._container.attr('transform', `translate(0 ${-top})`);\n\n          // if(progress >= 1) {\n          //   // this._container.style('visibility', 'hidden');\n          //   this._lines[id].changeVisible(isVisible);\n          // }\n          if(progress >= 1) {\n            this._animateQueue[id] = false;\n          }\n        }\n      });\n\n\n      // line.redraw({\n      //   points: this._state.data[id].data,\n      //   max: this._maxValue,\n      //   min: this._minValue,\n      //   viewbox: this._layout._viewbox\n      // });\n    });\n  }\n}","import Control from \"./control\";\nimport Element from \"../primitives/element\";\nimport watch from \"../utils/watch\";\nimport { createTextNode, formatBigNumber } from \"../helpers\";\n\nexport default class yAxis extends Control {\n  constructor(state) {\n    super('g');\n\n    this._state = state;\n    this._oldMax = 0;\n    this._max = state.maxValue;\n    this._height = 400;\n    this._width = 400;\n    this._linesCount = 5;\n    this._zeroLine = null;\n\n    watch(state, {\n      maxValue: this._changeMax.bind(this),\n      theme: this._changeTheme.bind(this),\n    })\n\n    this._container = new Element('g');\n\n    this._currentGroup = 'first';\n    this._labels = {\n      first: [],\n      second: [],\n    };\n  }\n\n  _changeTheme() {\n    let items = [...this._labels.first, ...this._labels.second];\n\n    if(this._zeroLine) {\n      items.push(this._zeroLine);\n    }\n\n    items.forEach(i => {\n      i.label.attr('stroke', this._state.theme.yAxis.textColor);\n      i.line.attr('stroke', this._state.theme.yAxis.lineColor);\n    });\n  }\n\n  _changeMax(value) {\n    this._oldMax = this._max;\n    console.log('change max');\n    this._max = value;\n    this.render();\n  }\n\n  _createLabels(n) {\n    let labels = [];\n\n    for(let i = 1; i <= n; i++) {\n      let r = (this._height / n) * i;\n      let line = new Element('line', {\n        x1: 0,\n        y1: 0,\n        x2: this._width - 20,\n        y2: 0,\n        stroke: this._state.theme.yAxis.lineColor,\n      });\n\n      let label = new Element('text', {\n        y: -10,\n        x: 0,\n        stroke: this._state.theme.yAxis.textColor,\n        fontSize: 12,\n        fontWeight: 100,\n      });\n\n      let container = new Element('g', {\n        transform: `translate(0 ${this._height})`,\n        style: {\n          transition: 'all 200ms',\n        }\n      });\n\n      label.mount(container);\n      line.mount(container);\n\n      labels.push({\n        container,\n        label,\n        line\n      });\n    }\n\n    return labels;\n  }\n\n  mount(to) {\n    let range = this._max / this._linesCount;\n\n    this._zeroLine = this._createLabels(1)[0];\n    this._zeroLine.container.mount(this._container);\n    this._zeroLine.container.attr('transform', `translate(10 ${this._height})`);\n    this._zeroLine.label.node.appendChild(createTextNode(0));\n\n    this._labels.first = this._createLabels(this._linesCount);\n    this._labels.first.forEach((e, i) => {\n      let value = this._max - i * range\n      e.container.mount(this._container);\n      e.label.node.innerHTML = '';\n      e.label.node.appendChild(createTextNode(value));\n    });\n\n    this._labels.second = this._createLabels(this._linesCount);\n    this._labels.second.forEach((e, i) => {\n      e.container.mount(this._container);\n      e.container.style('translate', '');\n      e.container.attr('transform', '');\n    });\n\n    this._container.mount(to);\n  }\n\n  render() {\n    this._labels[this._currentGroup].forEach((e, i) => {\n      e.container.style('transition', 'all 200ms');\n      e.container.attr('transform', `translate(10 -100)`);\n      e.container.style('opacity', `0`);\n    })\n\n    this._currentGroup = this._currentGroup === 'first' ? 'second' : 'first';\n\n    let range = this._max / (this._linesCount + 1);\n    this._labels[this._currentGroup].forEach((e, i) => {\n      e.container.style('transition', '');\n      if(this._max < this._oldMax) {\n        e.container.attr('transform', `translate(10 ${this._height})`);\n      }\n      e.container.style('opacity', `0`);\n\n      e.container.style('transition', 'all 200ms');\n      let value = this._max - i * range - range;\n      // let value = ((range * this._linesCount) - (range * i))\n\n      e.label.node.innerHTML = '';\n      e.label.node.appendChild(createTextNode(formatBigNumber(Math.ceil(value))));\n\n      let r = (this._height / (this._linesCount + 1)) * (i + 1);\n\n      e.container.attr('transform', `translate(10 ${r})`);\n      e.container.style('opacity', `1`);\n    })\n\n    // let labels = this._oldLabels;\n    // this._oldLabels = this._labels;\n\n\n  }\n}","import Control from \"./control\";\nimport watch from \"../utils/watch\";\nimport Element from \"../primitives/element\";\nimport { createTextNode } from \"../helpers\";\n\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n  \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\n];\n\n\nfunction dateFormat(date) {\n  return monthNames[date.getMonth()] + ' ' + date.getDate();\n}\n\nexport default class xAxis extends Control {\n  constructor(state) {\n    super('g');\n\n    this._state = state;\n    this._container = new Element('g');\n\n    this._height = 400;\n\n    watch(state, {\n      data: this._changeData.bind(this),\n      theme: this._changeTheme.bind(this),\n    })\n\n    this._labels = [];\n  }\n\n  _changeTheme() {\n\n  }\n\n  _changeData(points) {\n    let dateRange = points[points.length - 1] - points[0];\n    let onePart = dateRange / 6;\n    this._saved = onePart;\n\n    for(let i = 0; i < 6; i++) {\n      // console.log(dateFormat(new Date(points[0] + i * onePart)));\n      let date = dateFormat(new Date(points[0] + i * onePart));\n      if(!this._labels[i]) {\n        let label = new Element('text', {\n          stroke: this._state.theme.xAxis.textColor,\n          fontSize: 12,\n          fontWeight: 100,\n        });\n        let container = new Element('g');\n\n        label.node.appendChild(createTextNode(date));\n        label.mount(container);\n        container.mount(this._container);\n\n        this._labels[i] = {\n          label, container,\n        }\n\n      }\n\n      let leftOffset = this._height / 6 * i;\n      this._labels[i].label.node.innerHTML = '';\n      this._labels[i].label.node.appendChild(createTextNode(date));\n      this._labels[i].container.attr('transform', `translate(${leftOffset} 0)`);\n\n    }\n    console.log('___')\n\n\n    // for(let i = 0; i < 6; i++) {\n    //   let leftOffset = this._height / 6 * i;\n    //   console.log(i * offset);\n    //   let date = new Date(points[i * offset]);\n    //   let label = new Element('text', {\n    //     stroke: '#96A2AA',\n    //     fontSize: 12,\n    //     fontWeight: 100,\n    //   });\n    //   let container = new Element('g', {\n    //     transform: `translate(${leftOffset})`\n    //   });\n\n    //   label.node.appendChild(createTextNode(dateFormat(date)));\n\n    //   label.mount(container);\n\n    //   container.mount(this._container);\n    // }\n    // console.log('___')\n\n\n\n  }\n\n  mount(to) {\n    this._container.mount(to);\n    this._container.attr('transform', 'translate(0 410)');\n  }\n\n  render() {\n\n  }\n\n}","import Control from \"./control\";\nimport { reactive } from \"../utils/reactive\";\nimport PlotArea from \"./plotArea\";\nimport watch from \"../utils/watch\";\nimport { forEach } from \"../helpers\";\nimport Element from \"../primitives/element\";\nimport yAxis from \"./yaxis\";\nimport xAxis from \"./xaxis\";\n\nexport default class Plot extends Control {\n  constructor(state) {\n    super('g');\n    this._state = state;\n\n    this._plotAreaData = {\n      data: {},\n      theme: state.theme.Plot,\n      maxValue: 0,\n      minValue: 0,\n    };\n\n    this._xAxisData = reactive({\n      data: [],\n      theme: state.theme.Plot\n    });\n\n    this._series = {};\n    this._totalPoints = 0;\n    this._savedStartIndex = null;\n    this._savedEndIndex = null;\n\n    state.series\n      .filter(s => s.type !== 'x')\n      .forEach(s => {\n        watch(s, {\n          data: this._render,\n          visible: (n, o) => this._changeVisible(s.id, n)\n        });\n\n        this._plotAreaData.data[s.id] = {\n          data: s.data,\n          color: s.color,\n          visible: s.visible\n        }\n\n        this._series[s.id] = s;\n        this._totalPoints = s.data.length;\n      });\n\n    this._plotAreaData = reactive(this._plotAreaData);\n    this._plotArea = new PlotArea(this._plotAreaData);\n    this._plotArea.layout.viewbox({width: 400, height: 400});\n\n    this._yAxis = new yAxis(this._plotAreaData);\n    this._xAxis = new xAxis(this._xAxisData);\n\n    watch(state, {\n      range: this._changeRange.bind(this),\n      theme: this._changeTheme.bind(this)\n    })\n\n    this._changeRange(this._state.range);\n\n    let bg = new Element('rect', {fill: 'transparent', height: 420, width: 400})\n    bg._el.addEventListener('mousemove', this._tooltipHandler.bind(this));\n    bg._el.addEventListener('touchmove', this._tooltipHandler.bind(this));\n\n    this._layout.push(bg);\n    this._layout.push(this._yAxis);\n    this._layout.push(this._xAxis);\n    this._layout.push(this._plotArea);\n  }\n\n  _changeTheme(n) {\n    this._plotAreaData.theme = n.Plot;\n    this._xAxisData.theme = n.Plot;\n  }\n\n  _tooltipHandler(e) {\n    let x = !e.offsetX ? e.layerX : e.offsetX;\n    this._calcTooltip(x);\n  }\n\n  _calcTooltip(x) {\n    this._savedX = x;\n\n    let length = 0;\n    let max = this._plotArea._maxValue;\n    forEach(this._plotAreaData.data, (d, id) => {\n      if(!d.visible) {\n        return;\n      }\n\n      length = d.data.length;\n    })\n\n    let xRatio = 400 / (length - 1);\n    let yRatio = 400 / max;\n\n    let index = Math.ceil((x - xRatio / 2) / xRatio);\n\n    this._state.tooltip.visible = true;\n    let values = this._testTooltip(index, xRatio, yRatio);\n    this._state.tooltip.data = values;\n\n    if(this._state.tooltip.xRatio === xRatio && this._state.tooltip.yRatio === yRatio && this._state.tooltip.index === index) {\n      return;\n    }\n\n    this._state.tooltip.xRatio = xRatio;\n    this._state.tooltip.yRatio = yRatio;\n    this._state.tooltip.index = index;\n    this._state.tooltip.label = this._xAxisData.data[index];\n  }\n\n  _testTooltip(pointIndex, xRatio, yRatio) {\n    let values = [];\n\n    forEach(this._plotAreaData.data, (d, id) => {\n      if(d.visible) {\n        values.push({id, value: d.data[pointIndex]});\n      }\n    })\n\n    return values;\n  }\n\n  mount(to) {\n    // this._drawer.$container.mount(to);\n  }\n\n  render() {\n\n  }\n\n  _render() {\n  }\n\n  _changeRange(range) {\n    let startFloatIndex = (range.left) * this._totalPoints;\n    let endFloatIndex = (range.left + range.value) * this._totalPoints;\n\n    let startIndex = Math.trunc(startFloatIndex);\n    let endIndex = Math.trunc(endFloatIndex);\n    this._state.tooltip.visible = false;\n\n    startIndex = startIndex > 0 ? startIndex - 1 : startIndex;\n    endIndex = endIndex < this._totalPoints - 1 ? endIndex + 1 : endIndex;\n\n    if(this._savedStartIndex === startIndex && this._savedEndIndex === endIndex) {\n      return;\n    }\n\n    this._savedStartIndex = startIndex;\n    this._savedEndIndex = endIndex;\n\n    this._xAxisData.data = this._state.series.find(s => s.type === 'x').data.slice(startIndex, endIndex);\n\n    forEach(this._plotAreaData.data, (s, id) => {\n      s.data = this._series[id].data.slice(startIndex, endIndex);\n    })\n\n  }\n\n  _changeVisible(id, isVisible) {\n    this._state.tooltip.visible = false;\n    this._plotAreaData.data[id].visible = isVisible;\n    // if(this._savedX && this._state.tooltip.visible) {\n    //   this._calcTooltip(this._savedX);\n    // }\n  }\n}","import { forEach } from \"../../helpers\";\n\nexport default function makeResizable(el, options) {\n  // const element = document.querySelector(div);\n  // const resizers = document.querySelectorAll(div + ' .resizer');\n  const element = el._el;\n  let original_width = 0;\n  let original_height = 0;\n  let original_x = 0;\n  let original_y = 0;\n  let original_mouse_x = 0;\n  let original_mouse_y = 0;\n\n  let originalDraverOffset = 0;\n\n  let leftOffset = 0;\n  let rightOffset = 0;\n\n  forEach(options.resizers, (er, align) => {\n    const currentResizer = er._el;\n    const startResizeFn = function(e) {\n      e.preventDefault();\n      original_width = parseFloat(getComputedStyle(element, null).getPropertyValue('width').replace('px', ''));\n      original_height = parseFloat(getComputedStyle(element, null).getPropertyValue('height').replace('px', ''));\n      // original_x = element.getBoundingClientRect().left;\n      original_x = parseFloat(el.attr('x'));\n      original_y = element.getBoundingClientRect().top;\n      original_mouse_x = e.pageX;\n      original_mouse_y = e.pageY;\n\n      originalDraverOffset = parseFloat(er.attr('x'));\n\n      window.addEventListener('mousemove', resize);\n      window.addEventListener('touchmove', resize);\n      window.addEventListener('mouseup', stopResize);\n      window.addEventListener('touchend', stopResize);\n    };\n\n    currentResizer.addEventListener('touchstart', startResizeFn);\n    currentResizer.addEventListener('mousedown', startResizeFn);\n\n    function resize(e) {\n      // right\n      if (align === 'right') {\n        const width = original_width + (e.pageX - original_mouse_x);\n        const draverOffset = originalDraverOffset - (original_width - width);\n\n        if (width >= options.minWidth && width <= options.maxWidth && draverOffset >= options.minX && draverOffset <= options.maxX) {\n          el.attr('width', width);\n          er.attr('x', draverOffset);\n          rightOffset = options.maxX - draverOffset;\n          // TODO fix it\n          options.hooks.after(width, draverOffset - width - 10, rightOffset);\n        }\n      }\n      // left\n      else if (align === 'left') {\n        const width = original_width - (e.pageX - original_mouse_x);\n        const draverOffset = originalDraverOffset + (original_width - width);\n\n        if (width >= options.minWidth && width <= options.maxWidth && draverOffset >= options.minX && draverOffset <= options.maxX) {\n          el.attr('width', width);\n          el.attr('x', original_x + (e.pageX - original_mouse_x));\n\n          er.attr('x', draverOffset);\n          leftOffset = draverOffset;\n\n          options.hooks.after(width, leftOffset, rightOffset);\n        }\n      }\n    }\n\n    function stopResize() {\n      window.removeEventListener('mousemove', resize);\n      window.removeEventListener('touchmove', resize);\n    }\n  });\n}","import { forEach } from \"../../helpers\";\n\nexport default function makeDraggable(el, options) {\n  // const element = document.querySelector(div);\n  // const resizers = document.querySelectorAll(div + ' .resizer');\n  const element = el._el;\n  let original_width = 0;\n  let original_height = 0;\n  let original_x = 0;\n  let original_y = 0;\n  let original_mouse_x = 0;\n  let original_mouse_y = 0;\n\n  let originalDraverOffset = 0;\n\n  let leftOffset = 0;\n  let rightOffset = 0;\n\n  const dragFn = (e) => {\n    e.preventDefault();\n    original_width = parseFloat(getComputedStyle(element, null).getPropertyValue('width').replace('px', ''));\n    original_height = parseFloat(getComputedStyle(element, null).getPropertyValue('height').replace('px', ''));\n    // original_x = element.getBoundingClientRect().left;\n    original_x = parseFloat(el.attr('x'));\n    original_y = element.getBoundingClientRect().top;\n    original_mouse_x = e.pageX;\n    original_mouse_y = e.pageY;\n\n    window.addEventListener('mousemove', dragging);\n    window.addEventListener('touchmove', dragging);\n    window.addEventListener('mouseup', stopDragging);\n    window.addEventListener('touchend', stopDragging);\n\n    function dragging(e) {\n      const x = original_x + e.pageX - original_mouse_x;\n      if(x >= options.minX && x + original_width <= options.maxX) {\n        el.attr('x', x);\n        options.hooks.after(original_width, x);\n      }\n\n    }\n\n    function stopDragging() {\n      window.removeEventListener('touchmove', dragging);\n      window.removeEventListener('mousemove', dragging);\n    }\n  }\n\n  el.addEventListener('mousedown', dragFn);\n  el.addEventListener('touchstart', dragFn);\n}","import Element from \"../../primitives/element\";\nimport { makeId } from \"../../helpers\";\nimport resize from '../../core/interaction/resize';\nimport dragging from '../../core/interaction/dragging';\n\nexport default class Drawer {\n  constructor(state, theme, options) {\n    this._theme = theme;\n    this._state = state;\n    this._options = options;\n    this.$container = new Element('g');\n    this.$drawerContainer = new Element('g');\n\n    this._init();\n  }\n\n  changeTheme(theme) {\n    this._theme = theme;\n\n    const handlerWidth = this._theme.handlerWidth;\n    const border = this._theme.border;\n    const maskColor = this._theme.maskColor;\n    const borderColor = this._theme.borderColor;\n\n    this.$left.attr({\n      width: handlerWidth,\n    });\n\n    this.$right.attr({\n      width: handlerWidth,\n    });\n\n    this.$backMask.attr({\n      fill: maskColor\n    });\n\n    this.$borderMask.attr({\n      fill: borderColor\n    });\n\n    // this.$alpha = new Element('rect', {\n    //   width: '100%',\n    //   height: '100%',\n    //   fill: 'rgba(255,255,255, 0.5)',\n    // });\n  }\n\n  _init() {\n    const height = this._options.height;\n    const width = this._options.width;\n    const handlerWidth = this._theme.handlerWidth;\n    const border = this._theme.border;\n    const maskColor = this._theme.maskColor;\n    const borderColor = this._theme.borderColor;\n\n    const maskId = makeId(10);\n    this.$maskContainer = new Element('mask', {\n      id: maskId,\n    });\n\n    this.$left = new Element('rect', {\n      width: handlerWidth,\n      height: height,\n      fill: 'transparent',\n      x: width * this._state.range.left,\n      y: 0,\n    });\n\n    this.$right = new Element('rect', {\n      width: handlerWidth,\n      height: height,\n      fill: 'transparent',\n      x: width * this._state.range.left - handlerWidth,\n      y: 0,\n    });\n\n    this.$contains = new Element('rect', {\n      width: width * this._state.range.value - handlerWidth * 2,\n      height: height - border * 2,\n      x: width * this._state.range.left + handlerWidth,\n      y: border,\n      class: 'contains',\n    });\n\n    this.$backMask = new Element('rect', {\n      width: width,\n      height: height,\n      fill: maskColor,\n      x: 0,\n      y: 0,\n      mask: `url(#${maskId})`,\n    });\n\n    this.$borderMask = new Element('rect', {\n      width: width * this._state.range.value,\n      height: height,\n      x: width * this._state.range.left,\n      y: 0,\n      fill: borderColor,\n      mask: `url(#${maskId})`,\n      style: {\n        cursor: 'ew-resize',\n      }\n    });\n\n    this.$alpha = new Element('rect', {\n      width: '100%',\n      height: '100%',\n      fill: 'rgba(255,255,255, 0.5)',\n    });\n\n    this.$alpha.mount(this.$maskContainer);\n    this.$contains.mount(this.$maskContainer);\n\n    this.$maskContainer.mount(this.$container);\n    this.$backMask.mount(this.$container);\n\n    this.$borderMask.mount(this.$drawerContainer);\n    this.$right.mount(this.$drawerContainer);\n    this.$left.mount(this.$drawerContainer);\n\n    this.$drawerContainer.mount(this.$container);\n\n    resize(this.$contains, {\n      resizers: {\n        left: this.$left,\n        right: this.$right,\n      },\n      maxWidth: width - handlerWidth * 2,\n      minWidth: handlerWidth,\n      maxX: width - handlerWidth,\n      minX: 0,\n      hooks: {\n        after: (newWidth, offsetLeft, offsetRight) => {\n          let visiblePercent = (newWidth + handlerWidth * 2) / width;\n          let offsetLeftPercent = offsetLeft / width;\n\n          this._state.range = {\n            left: offsetLeftPercent,\n            value: visiblePercent\n          };\n\n          this.$borderMask.attr('x', offsetLeft);\n          this.$borderMask.attr('width', newWidth + handlerWidth * 2);\n          // console.log(newWidth);\n\n          // this.emit('changeRange', this.$currentRange);\n        }\n      }\n    });\n\n    dragging(this.$borderMask, {\n      maxX: width,\n      minX: 0,\n      hooks: {\n        after: (newWidth, offsetLeft) => {\n          // console.log(newWidth);\n          let visiblePercent = (newWidth) / width;\n          let offsetLeftPercent = offsetLeft / width;\n\n          this._state.range = {\n            left: offsetLeftPercent,\n            value: visiblePercent\n          };\n\n          this.$contains.attr('x', offsetLeft + handlerWidth);\n          this.$borderMask.attr('x', offsetLeft);\n          this.$left.attr('x', offsetLeft);\n          this.$right.attr('x', offsetLeft + newWidth - handlerWidth);\n\n          // this.$sEvents.emit('Navigator:changeRange', this.$currentRange);\n          // this.emit('changeRange', this.$currentRange);\n        }\n      }\n    });\n  }\n}","import Control from \"../control\";\nimport watch from \"../../utils/watch\";\nimport Drawer from \"./drawer\";\nimport Line from \"../../core/types/line\";\nimport { forEach } from \"../../helpers\";\nimport PlotArea from \"../plotArea\";\nimport { reactive } from \"../../utils/reactive\";\nimport Element from \"../../primitives/element\";\n\nexport default class Navigator extends Control {\n  constructor(state) {\n    super('g');\n\n    this._state = state;\n\n    watch(state, {\n      theme: (newTheme) => {\n        this._plotAreaData.theme = newTheme.Navigator;\n\n        this._drawer.changeTheme(newTheme.Navigator.Drawer);\n        this._bg.attr('fill', state.theme.Navigator.background);\n      }\n    })\n\n    this._bg = new Element('rect', {\n      width: 380,\n      height: 50,\n      fill: state.theme.Navigator.background\n    })\n\n    this._plotAreaData = {\n      data: {},\n      theme: state.theme.Navigator,\n    };\n\n    this._series = state.series\n      .filter(s => s.type !== 'x')\n      .map(s => {\n        watch(s, {\n          data: this._render,\n          visible: (n, o) => this._changeVisible(s.id, n)\n        });\n\n        this._plotAreaData.data[s.id] = {\n          data: s.data,\n          color: s.color,\n          visible: s.visible\n        }\n\n        return s;\n      });\n\n    this._plotAreaData = reactive(this._plotAreaData);\n    this._plotArea = new PlotArea(this._plotAreaData);\n    this._plotArea.layout.viewbox({width: 378, height: 42});\n    this._plotArea.layout.position({top: 4, left: 1});\n\n    // this._drawer = new Drawer(state, state.theme.Navigator.Drawer, {width: 380, height: state.theme.Navigator.height});\n    this._drawer = new Drawer(state, state.theme.Navigator.Drawer, {width: 380, height: state.theme.Navigator.height});\n    this._layout.push(this._bg);\n    this._layout.push(this._plotArea.layout);\n    this._layout.push(this._drawer.$container);\n  }\n\n  mount(to) {\n\n  }\n\n  render() {\n\n  }\n\n  _render() {\n  }\n\n  _changeData() {\n    console.log('changeData');\n  }\n\n  _changeVisible(id, isVisible) {\n    this._plotAreaData.data[id].visible = isVisible;\n  }\n}","import Element from \"../../primitives/element\";\nimport { createTextNode, forEach, formatBigNumber } from \"../../helpers\";\nimport { animate } from \"../../core/interaction/animate\";\nimport watch from \"../../utils/watch\";\n\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n  \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\n];\n\nconst dayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\nfunction dateFormat(date) {\n  return dayNames[date.getDay()] + ', ' + monthNames[date.getMonth()] + ' ' + date.getDate();\n}\n\nexport class Wrapper {\n  constructor(state) {\n    this._state = state;\n\n    this._container = new Element('g', {\n      style: {\n        transition: 'all 100ms'\n      }\n    });\n    this._textGroup = new Element('g');\n    this._ratio = 0;\n\n    this._textGroup.attr('transform', 'translate(0, 35)');\n\n    this._tooltipWidth = 100;\n    this._tooltipHeight = 60;\n\n    this._bg = new Element('rect', {\n      width: this._tooltipWidth,\n      height: this._tooltipHeight,\n      fill: state.theme.Tooltip.background,\n      stroke: state.theme.Tooltip.borderColor,\n      strokeWidth: 1,\n      rx: 5,\n      ry: 5,\n    });\n\n    this._header = new Element('text', {\n      x: 10,\n      y: 15,\n      alignmentBaseline: 'middle',\n      fontSize: 12,\n      strokeWidth: 0,\n      fill: state.theme.Tooltip.labelColor,\n    });\n\n    this._wayLine = new Element('line', {\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 420,\n      stroke: state.theme.Tooltip.wayLineColor,\n      visibility: 'hidden'\n    });\n\n    this._contentText = [];\n    this._label = '';\n\n    watch(state, {\n      theme: this._changeTheme.bind(this),\n    })\n\n    this._bg.mount(this._container);\n    this._header.mount(this._container);\n    this._textGroup.mount(this._container);\n\n    this._container.attr('visibility', 'hidden');\n  }\n\n  _changeTheme(n) {\n    this._header.attr('fill', n.Tooltip.labelColor);\n    this._wayLine.attr('stroke', n.Tooltip.wayLineColor);\n    this._bg.attr({\n      fill: n.Tooltip.background,\n      stroke: n.Tooltip.borderColor,\n    });\n  }\n\n  changeVisible(isVisible) {\n    this._container.attr('opacity', isVisible ? 1 : 0);\n    this._container.attr('visibility', isVisible ? 'visible' : 'hidden');\n    this._wayLine.attr('visibility', isVisible ? 'visible' : 'hidden');\n  }\n\n  render() {\n    let all = this._state.tooltip.data.map(d => d.value);\n\n    this._header.node.innerHTML = '';\n    this._label = dateFormat(new Date(this._state.tooltip.label));\n    this._header.node.appendChild(createTextNode(this._label));\n    this._renderText(this._state.tooltip.data);\n    this.setPosition(this._state.tooltip.index, this._state.tooltip.xRatio, this._state.tooltip.yRatio, Math.max(...all));\n  }\n\n  _renderText(data) {\n    let widthPerItem = 0;\n\n    data.forEach(el => {\n      let s = this._state.series.find(s => s.id === el.id);\n      let value = formatBigNumber(el.value);\n      if(!this._contentText[el.id]) {\n        this._contentText[el.id] = this._createTextGroup();\n      }\n\n      widthPerItem = widthPerItem < value.toString().length ? value.toString().length : widthPerItem;\n      widthPerItem = widthPerItem < s.label.toString().length ? s.label.toString().length : widthPerItem;\n\n      this._updateTextNode(this._contentText[el.id], s.label, value, s.color);\n    })\n\n    widthPerItem = widthPerItem * 12;\n\n    let visibleData = {};\n\n    forEach(this._contentText, (t, id, num) => {\n      if(t.visible && data.find(el => el.id === id)) {\n        visibleData[id] = t;\n        t.container.attr('visibility', 'visible');\n      } else {\n        t.container.attr('visibility', 'hidden');\n      }\n    });\n\n\n    let tempWidth = (widthPerItem) * 2 + 10;\n    let labelWidth = this._label.length * 6.2 + 20;\n\n    if(labelWidth > tempWidth) {\n      widthPerItem = labelWidth / 2;\n    }\n\n    forEach(visibleData, (t, id, num) => {\n      let offsetY = Math.floor(num / 2) * 35;\n\n      t.container.attr('transform', `translate(${num % 2 * widthPerItem + 10} ${offsetY})`)\n    })\n\n    this._tooltipWidth = tempWidth > labelWidth ? tempWidth : labelWidth;\n    this._tooltipHeight = Math.ceil(Object.keys(visibleData).length / 2) * 35 + 30;\n  }\n\n  _updateTextNode(text, label, value, color) {\n    text.container.style('fill', color);\n\n    text.label._el.innerHTML = '';\n    text.value._el.innerHTML = '';\n\n    text.label._el.appendChild(createTextNode(label));\n    text.value._el.appendChild(createTextNode(value));\n  }\n\n  _createTextGroup() {\n    let container = new Element('g');\n\n    let labelEl = new Element('text', {\n      style: {\n        fontWeight: 200,\n        fontSize: '12px'\n      },\n      y: 15,\n      alignmentBaseline: 'middle',\n    });\n\n    let valueEl = new Element('text', {\n      style: {\n        fontWeight: 600,\n        fontSize: '14px'\n      },\n      alignmentBaseline: 'middle',\n    });\n\n    valueEl.mount(container);\n    labelEl.mount(container);\n\n    container.mount(this._textGroup);\n\n    return {\n      container,\n      label: labelEl,\n      value: valueEl,\n      visible: true,\n    };\n  }\n\n  setPosition(index, xRatio, yRatio, max) {\n    // let transformX = ratio > 20 ? index * ratio - ratio : index * ratio - 20;\n    let transformX = 0;\n    let transformY = 0;\n\n    let offsetY = 400 - max * yRatio;\n    let offsetX = index * xRatio;\n\n    let elWidth = this._tooltipWidth;\n    let elHeight = this._tooltipHeight;\n\n    let maxPadding = 20;\n    let minPadding = 10;\n\n    let padding = xRatio;\n\n    let width = 400;\n\n    if(padding > maxPadding) {\n      padding = maxPadding;\n    } else if(padding < minPadding) {\n      padding = minPadding;\n    }\n\n    if(offsetY < elHeight + padding) {\n      if(offsetX + elWidth + padding > width) {\n        transformX = offsetX - elWidth - padding;\n      } else {\n        transformX = offsetX + padding;\n      }\n    } else {\n      if(offsetX + elWidth - padding > width) {\n        transformX = offsetX - elWidth + padding;\n      } else {\n        transformX = offsetX - padding;\n      }\n    }\n\n    if(transformX < padding) {\n      transformX = padding;\n    } else if(transformX + elWidth + padding > width) {\n      transformX = width - elWidth - padding;\n    }\n\n    transformX = transformX > padding ? transformX : padding;\n\n    let transformContainer = `translate(${transformX} ${transformY})`;\n    let transformLine = `translate(${index * xRatio} 0)`;\n\n    // animate({\n    //   duration: 200,\n    //   timing: (timeFraction) => {\n    //     return timeFraction;\n    //   },\n    //   draw: (progress) => {\n    //     this._container.attr('transform', `translate(${transformX} ${transformY})`)\n    //   }\n    // });\n\n    this._container.attr('transform', transformContainer);\n    this._bg.attr({\n      width: this._tooltipWidth,\n      height: this._tooltipHeight,\n    })\n    this._wayLine.attr('transform', transformLine);\n\n    // this.setVisibility(true);\n  }\n}","import Control from \"../control\";\nimport { Wrapper } from \"./wrapper\";\nimport watch from \"../../utils/watch\";\nimport Element from \"../../primitives/element\";\nimport { forEach } from \"../../helpers\";\n\nexport default class Tooltip extends Control {\n  constructor(state) {\n    super('g');\n    this._state = state;\n    this._wrapper = new Wrapper(state);\n    this._marksContainer = new Element('g');\n\n    this._marks = {};\n\n    watch(state.tooltip, {\n      visible: this._changeVisible.bind(this),\n      data: this._changeData.bind(this),\n    })\n\n    watch(state, {\n      theme: this._changeTheme.bind(this),\n    })\n  }\n\n  _changeTheme(n) {\n    forEach(this._marks, (m) => {\n      m.attr('fill', n.Tooltip.Mark.background);\n    })\n  }\n\n  _changeVisible(isVisible) {\n    this._wrapper.changeVisible(isVisible);\n\n    forEach(this._marks, m => {\n      m.style('visibility', 'hidden');\n    })\n  }\n\n  _changeData() {\n    this._wrapper.render();\n\n    this._state.tooltip.data.forEach(el => {\n      if(!this._marks[el.id]) {\n        let s = this._state.series.find(s => s.id === el.id);\n        this._marks[el.id] = new Element('circle', {\n          r: 5,\n          stroke: s.color,\n          strokeWidth: 3,\n          fill: this._state.theme.Tooltip.Mark.background,\n          style: {\n            visibility: 'hidden',\n          }\n        });\n\n        this._marks[el.id].mount(this._marksContainer);\n      }\n\n      this._marks[el.id].attr({\n        cx: this._state.tooltip.index * this._state.tooltip.xRatio,\n        cy: 420 - el.value * this._state.tooltip.yRatio,\n      });\n\n      this._marks[el.id].style('visibility', 'visible');\n    })\n\n    Object.keys(this._marks).forEach(id => {\n      if(!this._state.tooltip.data.find(el => el.id === id)) {\n        this._marks[id].style('visibility', 'hidden');\n      }\n    })\n  }\n\n  mount(to) {\n    this._wrapper._wayLine.mount(to);\n    this._marksContainer.mount(to);\n    this._wrapper._container.mount(to);\n  }\n\n  render() {\n\n  }\n}","import Element from \"./primitives/element\";\nimport Layout from \"./core/layout\";\nimport LightTheme from './thems/light';\nimport NightTheme from './thems/night';\nimport Plot from \"./controls/plot\";\nimport Navigator from \"./controls/navigator/index.js\";\nimport { reactive } from \"./utils/reactive\";\nimport Tooltip from \"./controls/tooltip\";\nimport { makeId } from \"./helpers\";\nimport watch from \"./utils/watch\";\n\nexport default class TChart {\n  constructor(opts) {\n    this._options = opts;\n    this._root = new Layout('svg');\n\n    const series = opts.columns.map(column => {\n      let id = column[0];\n      return {\n        id,\n        data: column.slice(1),\n        visible: true,\n        type: opts.types[id],\n        color: opts.colors[id] || null,\n        label: opts.names[id] || null\n      };\n    });\n\n    this._state = reactive({\n      series,\n      tooltip: {\n        filterId: makeId(10),\n        visible: false,\n        data: [],\n        index: 0,\n        xRatio: 0,\n        yRatio: 0,\n        label: '',\n      },\n      theme: LightTheme,\n      range: {\n        left: 0.65,\n        value: 0.35\n      },\n    })\n\n    watch(this._state, {\n      theme: () => {\n        this._root._container.style('background', this._state.theme.Root.background)\n      }\n    })\n\n    this._init();\n  }\n\n  _init() {\n    let plot = new Plot(this._state);\n    let navigator = new Navigator(this._state);\n    let tooltip = new Tooltip(this._state);\n    // const navLayout = new Layout({zIndex: 2});\n    // const tooltipLayout = new Layout({zIndex: 3});\n\n    // plotLayout.push(new Navigator());\n    plot.layout.position({top: 20});\n    navigator.layout.position({top: 440, left: 10});\n\n    this._root.push(navigator.layout);\n    this._root.push(plot.layout);\n    this._root.push(tooltip.layout);\n\n\n    // this._state.series[0].visible = false;\n    // this._state.series[0].data.push(1);\n  }\n\n  changeTheme(name) {\n    this._state.theme = name === 'night' ? NightTheme : LightTheme;\n  }\n\n  mount(to) {\n    let width = 400;\n    let height = 520;\n\n    this._root.viewbox({\n      width,\n      height,\n    });\n\n    this._root._container.attr({\n      width: `${width}px`,\n      height: `${height}px`,\n      viewbox: `0 0 ${width} ${height}`,\n      version: 1.1,\n      xmlns: 'http://www.w3.org/2000/svg',\n      style: {\n        background: this._state.theme.Root.background\n      }\n    });\n\n    this._root._container.style('fontFamily', 'Roboto');\n\n    this._root._container._el.insertAdjacentHTML('afterBegin',\n    '<defs>' +\n      '<filter id=\"' + this._state.tooltip.filterId + '\" x=\"-0.5\" y=\"-0.5\" width=\"200%\" height=\"200%\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\"></feGaussianBlur> <!-- stdDeviation is how much to blur -->' +\n        '<feOffset dx=\"0\" dy=\"0\" result=\"offsetblur\"></feOffset> <!-- how much to offset -->' +\n        '<feComponentTransfer>' +\n          '<feFuncA type=\"linear\" slope=\"0.08\"></feFuncA> <!-- slope is the opacity of the shadow -->' +\n        '</feComponentTransfer>' +\n        '<feMerge>' +\n          '<feMergeNode></feMergeNode> <!-- this contains the offset blurred image -->' +\n          '<feMergeNode in=\"SourceGraphic\"></feMergeNode> <!-- this contains the element that the filter is applied to -->' +\n        '</feMerge>' +\n      '</filter>' +\n      '<filter x=\"0\" y=\"0\" width=\"1\" height=\"1\" id=\"solid\">' +\n        '<feFlood flood-color=\"white\"/>' +\n        '<feComposite in=\"SourceGraphic\" operator=\"xor\" />' +\n      '</filter>' +\n    '</defs>'\n  );\n\n    this._root.mount(to);\n\n    return this;\n  }\n\n  render(theme) {\n    // select theme\n    this.changeTheme(theme);\n    this._root.render();\n  }\n\n}"],"names":["this","prototypeAccessors","viewbox","let","const","super","width","draverOffset","resize","dragging","monthNames","dateFormat"],"mappings":"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"}